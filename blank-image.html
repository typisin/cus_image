<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Generate printable blank pages with custom grids, horizontal and vertical lines, and templates (Lined/Staff/Graph). Set paper presets, units (px/mm/in), DPI, and export PNG/JPG/SVG.">
  <meta name="keywords" content="blank image, printable blank page, grid paper, lined paper, staff paper, A4, Letter, DPI, PNG, JPG, SVG">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.cusimage.com/blank-image">
  <link rel="alternate" hreflang="en" href="https://www.cusimage.com/blank-image">
  <meta property="og:title" content="Blank Image Generator – Printable Grid, Lined & Staff Paper">
  <meta property="og:description" content="Create printable blank pages with custom grids, lines, templates, paper presets, DPI and export to PNG/JPG/SVG.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.cusimage.com/blank-image">
  <meta property="og:image" content="https://www.cusimage.com/logo.png">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Blank Image Generator – Printable Grid, Lined & Staff Paper">
  <meta name="twitter:description" content="Generate printable blank pages with grids, lines and templates. Export PNG/JPG/SVG.">
  <meta name="twitter:image" content="https://www.cusimage.com/logo.png">
  <title>Blank Image Generator | CusImage</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="/favicon.svg?v=2" type="image/svg+xml">
  <link rel="shortcut icon" href="/favicon.svg?v=2" type="image/svg+xml">
  <script src="favicon.js" defer></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>(function(){var h=location.hostname;var isLocal=/^(localhost|127\.0\.0\.1)$/.test(h);if(!isLocal){var s=document.createElement('script');s.defer=true;s.src='/_vercel/insights/script.js';document.head.appendChild(s);}})();</script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Blank Image Generator",
    "url": "https://www.cusimage.com/blank-image",
    "description": "Generate printable blank pages with custom grids, lines and templates (Lined/Staff/Graph). Supports A4/A3/Letter, units (px/mm/in), DPI, and PNG/JPG/SVG export.",
    "inLanguage": "en",
    "mainEntity": {
      "@type": "SoftwareApplication",
      "name": "Blank Image Generator",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Web Browser",
      "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is a blank image generator?",
        "acceptedAnswer": { "@type": "Answer", "text": "A tool that creates printable blank pages with customizable grids, lines, margins and templates for writing, music, and graph paper." }
      },
      {
        "@type": "Question",
        "name": "How do I set paper size and DPI?",
        "acceptedAnswer": { "@type": "Answer", "text": "Choose presets (A4/A3/Letter) or custom width/height with units (px/mm/in) and set DPI (e.g., 300) for print quality." }
      },
      {
        "@type": "Question",
        "name": "Can I add grids, horizontal and vertical lines?",
        "acceptedAnswer": { "@type": "Answer", "text": "Yes. Select mode (Grid/Horizontal/Vertical), tune spacing, line width, style (solid/dashed/dotted), opacity, and margins." }
      },
      {
        "@type": "Question",
        "name": "Which export formats are supported?",
        "acceptedAnswer": { "@type": "Answer", "text": "PNG, JPG (quality adjustable) and SVG generated directly in your browser." }
      },
      {
        "@type": "Question",
        "name": "Is it printable and free?",
        "acceptedAnswer": { "@type": "Answer", "text": "Yes. It is free, runs locally in your browser, and produces print-ready outputs with precise DPI and units." }
      }
    ]
  }
  </script>
  <style>
    .form-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--space-4)}
    .form-grid.full{grid-template-columns:1fr}
    .form-item{display:flex;flex-direction:column;gap:var(--space-2)}
    .form-item label{font-size:0.875rem;color:var(--gray-700)}
    .form-item input,.form-item select{height:40px;padding:0 var(--space-3);border:1px solid var(--gray-300);border-radius:var(--radius-md);font-size:0.875rem;color:var(--gray-900);background:var(--white)}
    .settings-actions{display:flex;gap:var(--space-3);margin-top:var(--space-4)}
    .blank-grid{display:grid;grid-template-columns:2fr 1fr;gap:var(--space-6)}
    @media (max-width: 768px){ .blank-grid{grid-template-columns:1fr} }
    .image-preview-container{width:100%;max-width:100%}
    .image-preview-container canvas{max-width:100%;height:auto}
    @media (max-width: 768px){ .form-grid{grid-template-columns:1fr} }
  </style>
  </head>
<body>
  <header class="header">
    <div class="container">
      <div class="brand">
        <div class="logo"><img src="/logo.png" alt="CusImage"></div>
        <h1 class="title">CusImage</h1>
        <p class="subtitle">Printable Blank Pages with Grids & Lines</p>
      </div>
      <div class="nav-dropdown">
        <button class="nav-toggle" aria-haspopup="true" aria-expanded="false" aria-controls="main-nav">Menu</button>
        <nav class="nav" id="main-nav" aria-label="Main navigation">
          <ul class="nav-menu">
            <li><a href="/" class="nav-link">Home</a></li>
            <li><a href="/image-describer" class="nav-link">Image Describer</a></li>
            <li><a href="/ai-cutout" class="nav-link">AI Cutout</a></li>
            <li><a href="/turn-images-into-unicode" class="nav-link">Turn Images into Unicode</a></li>
            <li><a href="/images-for-fb-cover" class="nav-link">Fb Covers</a></li>
            <li><a href="/400x400-black-image" class="nav-link">400x400 Black Image</a></li>
            <li><a href="/blank-image" class="nav-link active" aria-current="page">Blank Image</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <section class="grid-layout blank-grid">
        <div class="card-layout">
          <div class="card-header">
            <h2 class="tool-title">Blank Image Generator</h2>
            <p class="tool-description">Create printable blank pages with custom grids, lines, and templates.</p>
          </div>
          <div class="image-preview-container" aria-live="polite">
            <canvas id="blankCanvas" width="800" height="600" aria-label="Blank image preview" style="display:block"></canvas>
          </div>
          <div class="download-actions">
            <button id="downloadPngBtn" class="btn btn-primary" aria-label="Download as PNG">Download PNG</button>
            <button id="downloadJpgBtn" class="btn btn-secondary" aria-label="Download as JPG">Download JPG</button>
            <button id="downloadSvgBtn" class="btn btn-secondary" aria-label="Download as SVG">Download SVG</button>
          </div>
          <div id="downloadNotice" class="notice notice-success" role="status" aria-live="polite"></div>
          <p class="assistive-text">Tip: Use higher DPI for printing quality (e.g., 300 DPI).</p>
        </div>

        <div class="card-layout">
          <div class="card-header">
            <h2 class="tool-h1">Settings</h2>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-item">
                <label for="paperPreset">Paper Preset</label>
                <select id="paperPreset" aria-label="Paper preset">
                  <option value="A4" selected>A4 (210×297 mm)</option>
                  <option value="A3">A3 (297×420 mm)</option>
                  <option value="Letter">Letter (8.5×11 in)</option>
                  <option value="Custom">Custom</option>
                </select>
              </div>
              <div class="form-item">
                <label for="unitSelect">Unit</label>
                <select id="unitSelect" aria-label="Unit">
                  <option value="mm" selected>mm</option>
                  <option value="in">in</option>
                  <option value="px">px</option>
                </select>
              </div>
              <div class="form-item">
                <label for="dpiInput">DPI</label>
                <input id="dpiInput" type="number" min="1" value="300" aria-label="DPI">
              </div>
              <div class="form-item">
                <label for="lockAspect">Lock Aspect Ratio</label>
                <select id="lockAspect" aria-label="Lock aspect">
                  <option value="true">On</option>
                  <option value="false" selected>Off</option>
                </select>
              </div>
              <div class="form-item">
                <label for="widthInput">Width</label>
                <input id="widthInput" type="number" min="1" value="210" aria-label="Width">
              </div>
              <div class="form-item">
                <label for="heightInput">Height</label>
                <input id="heightInput" type="number" min="1" value="297" aria-label="Height">
              </div>
            </div>

            <div class="form-grid">
              <div class="form-item">
                <label for="bgColor">Background Color</label>
                <input id="bgColor" type="text" value="#ffffff" aria-label="Background color">
              </div>
              <div class="form-item">
                <label for="bgOpacity">Background Opacity</label>
                <input id="bgOpacity" type="number" min="0" max="1" step="0.05" value="1" aria-label="Background opacity">
              </div>
              <div class="form-item">
                <label for="lineColor">Line Color</label>
                <input id="lineColor" type="text" value="#4b5563" aria-label="Line color">
              </div>
              <div class="form-item">
                <label for="lineOpacity">Line Opacity</label>
                <input id="lineOpacity" type="number" min="0" max="1" step="0.05" value="1" aria-label="Line opacity">
              </div>
            </div>

            <div class="form-grid">
              <div class="form-item">
                <label for="modeSelect">Mode</label>
                <select id="modeSelect" aria-label="Mode">
                  <option value="none">None</option>
                  <option value="horizontal">Horizontal Lines</option>
                  <option value="vertical">Vertical Lines</option>
                  <option value="grid" selected>Grid</option>
                </select>
              </div>
              <div class="form-item">
                <label for="lineWidthInput">Line Width (px)</label>
                <input id="lineWidthInput" type="number" min="0.1" step="0.1" value="1" aria-label="Line width">
              </div>
              <div class="form-item">
                <label for="lineStyleSelect">Line Style</label>
                <select id="lineStyleSelect" aria-label="Line style">
                  <option value="solid" selected>Solid</option>
                  <option value="dashed">Dashed</option>
                  <option value="dotted">Dotted</option>
                </select>
              </div>
              <div class="form-item">
                <label for="majorEveryInput">Major Every N Cells</label>
                <input id="majorEveryInput" type="number" min="2" value="5" aria-label="Major grid interval">
              </div>
            </div>

            <div class="form-grid">
              <div class="form-item">
                <label for="spacingXInput">Spacing X</label>
                <input id="spacingXInput" type="number" min="0.1" step="0.1" value="5" aria-label="Spacing X">
              </div>
              <div class="form-item">
                <label for="spacingYInput">Spacing Y</label>
                <input id="spacingYInput" type="number" min="0.1" step="0.1" value="5" aria-label="Spacing Y">
              </div>
            </div>

            <div class="form-grid">
              <div class="form-item">
                <label for="marginTop">Margin Top</label>
                <input id="marginTop" type="number" min="0" step="0.1" value="10" aria-label="Margin top">
              </div>
              <div class="form-item">
                <label for="marginRight">Margin Right</label>
                <input id="marginRight" type="number" min="0" step="0.1" value="10" aria-label="Margin right">
              </div>
              <div class="form-item">
                <label for="marginBottom">Margin Bottom</label>
                <input id="marginBottom" type="number" min="0" step="0.1" value="10" aria-label="Margin bottom">
              </div>
              <div class="form-item">
                <label for="marginLeft">Margin Left</label>
                <input id="marginLeft" type="number" min="0" step="0.1" value="10" aria-label="Margin left">
              </div>
            </div>

            <div class="form-grid full">
              <div class="form-item">
                <label for="templateSelect">Templates</label>
                <select id="templateSelect" aria-label="Templates">
                  <option value="none" selected>None</option>
                  <option value="lined">Lined Paper</option>
                  <option value="staff">Staff Paper</option>
                  <option value="graph">Graph Paper</option>
                </select>
              </div>
            </div>

            <div class="settings-actions">
              <button id="applyTemplateBtn" class="btn btn-secondary" aria-label="Apply template">Apply Template</button>
              <button id="generateBtn" class="btn btn-primary" aria-label="Generate">Generate</button>
              <button id="resetBtn" class="btn btn-secondary" aria-label="Reset">Reset</button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <section class="faq-card" aria-label="Blank Image SEO Copy">
    <div class="container">
      <h2 class="tool-h1">Printable Blank Image & Grid Paper Generator</h2>
      <p>Create professional <strong>blank image</strong> pages with fully customizable grids, horizontal and vertical lines, margins, and DPI. Ideal for printable <strong>grid paper</strong>, <strong>lined paper</strong>, and <strong>staff paper</strong>.</p>
      <div class="grid-layout" style="margin-top: 1rem;">
        <div>
          <h3>Key Features</h3>
          <ul>
            <li>Paper presets: A4, A3, Letter, or custom size</li>
            <li>Units: px, mm, in with accurate DPI control (e.g., 300 DPI)</li>
            <li>Lines & grids: Horizontal, Vertical, Grid with spacing, width, style</li>
            <li>Templates: Lined Paper, Staff Paper, Graph Paper</li>
            <li>Export: PNG, JPG, SVG directly in your browser</li>
          </ul>
        </div>
        <div>
          <h3>FAQ</h3>
          <ul>
            <li><strong>What is a blank image generator?</strong> A tool to create printable pages with customizable grids and lines for writing, drawing, and music notation.</li>
            <li><strong>How do I set paper size?</strong> Pick presets (A4/A3/Letter) or define custom width/height with units and DPI.</li>
            <li><strong>Can I customize line style?</strong> Yes, choose solid, dashed or dotted; adjust opacity and major grid interval.</li>
            <li><strong>Which formats are supported?</strong> PNG, JPG and SVG downloads.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 CusImage. Making image editing smarter.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var toggle = document.querySelector('.nav-toggle');
      var dropdown = toggle && toggle.parentElement;
      var nav = dropdown && dropdown.querySelector('.nav');
      if (toggle && dropdown && nav) {
        toggle.addEventListener('click', function() {
          var open = dropdown.classList.toggle('open');
          toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
        });
        document.addEventListener('click', function(e) {
          if (!dropdown.contains(e.target)) {
            dropdown.classList.remove('open');
            toggle.setAttribute('aria-expanded', 'false');
          }
        });
      }

      var canvas = document.getElementById('blankCanvas');
      var ctx = canvas.getContext('2d');

      var state = {
        unit: 'mm',
        dpi: 300,
        width: 210,
        height: 297,
        lockAspect: false,
        bgColor: '#ffffff',
        bgOpacity: 1,
        lineColor: '#4b5563',
        lineOpacity: 1,
        mode: 'grid',
        lineWidth: 1,
        lineStyle: 'solid',
        majorEvery: 5,
        spacingX: 5,
        spacingY: 5,
        marginTop: 10,
        marginRight: 10,
        marginBottom: 10,
        marginLeft: 10
      };

      function toPx(val, unit, dpi) {
        var v = parseFloat(val || 0);
        if (unit === 'px') return v;
        if (unit === 'in') return v * dpi;
        return v * dpi / 25.4;
      }

      function hexToRGBA(hex, alpha) {
        var h = hex.replace('#','');
        if (h.length === 3) h = h.split('').map(function(c){return c+c}).join('');
        var r = parseInt(h.substring(0,2),16);
        var g = parseInt(h.substring(2,4),16);
        var b = parseInt(h.substring(4,6),16);
        return 'rgba(' + r + ',' + g + ',' + b + ',' + (alpha || 1) + ')';
      }

      function getDash(style) {
        if (style === 'dashed') return [6,4];
        if (style === 'dotted') return [1,5];
        return [];
      }

      function syncPreset() {
        var preset = document.getElementById('paperPreset').value;
        var unit = document.getElementById('unitSelect').value;
        if (preset === 'A4') { state.width = unit==='in'? 8.267: unit==='px'? toPx(210,'mm',state.dpi): 210; state.height = unit==='in'? 11.693: unit==='px'? toPx(297,'mm',state.dpi): 297; }
        else if (preset === 'A3') { state.width = unit==='in'? 11.693: unit==='px'? toPx(297,'mm',state.dpi): 297; state.height = unit==='in'? 16.54: unit==='px'? toPx(420,'mm',state.dpi): 420; }
        else if (preset === 'Letter') { state.width = unit==='mm'? 215.9: unit==='px'? toPx(8.5,'in',state.dpi): 8.5; state.height = unit==='mm'? 279.4: unit==='px'? toPx(11,'in',state.dpi): 11; }
        document.getElementById('widthInput').value = String(Math.round(state.width*1000)/1000);
        document.getElementById('heightInput').value = String(Math.round(state.height*1000)/1000);
      }

      function readState() {
        state.unit = document.getElementById('unitSelect').value;
        state.dpi = parseInt(document.getElementById('dpiInput').value||300,10);
        state.lockAspect = document.getElementById('lockAspect').value === 'true';
        state.width = parseFloat(document.getElementById('widthInput').value||0);
        state.height = parseFloat(document.getElementById('heightInput').value||0);
        state.bgColor = document.getElementById('bgColor').value||'#ffffff';
        state.bgOpacity = parseFloat(document.getElementById('bgOpacity').value||1);
        state.lineColor = document.getElementById('lineColor').value||'#4b5563';
        state.lineOpacity = parseFloat(document.getElementById('lineOpacity').value||1);
        state.mode = document.getElementById('modeSelect').value;
        state.lineWidth = parseFloat(document.getElementById('lineWidthInput').value||1);
        state.lineStyle = document.getElementById('lineStyleSelect').value;
        state.majorEvery = parseInt(document.getElementById('majorEveryInput').value||5,10);
        state.spacingX = parseFloat(document.getElementById('spacingXInput').value||5);
        state.spacingY = parseFloat(document.getElementById('spacingYInput').value||5);
        state.marginTop = parseFloat(document.getElementById('marginTop').value||0);
        state.marginRight = parseFloat(document.getElementById('marginRight').value||0);
        state.marginBottom = parseFloat(document.getElementById('marginBottom').value||0);
        state.marginLeft = parseFloat(document.getElementById('marginLeft').value||0);
      }

      function clearCanvas() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
      }

      function render() {
        readState();
        var wpx = Math.max(1, Math.round(toPx(state.width, state.unit, state.dpi)));
        var hpx = Math.max(1, Math.round(toPx(state.height, state.unit, state.dpi)));
        if (canvas.width !== wpx) canvas.width = wpx;
        if (canvas.height !== hpx) canvas.height = hpx;
        clearCanvas();
        ctx.fillStyle = hexToRGBA(state.bgColor, state.bgOpacity);
        ctx.fillRect(0,0,canvas.width,canvas.height);
        var mt = toPx(state.marginTop, state.unit, state.dpi);
        var mr = toPx(state.marginRight, state.unit, state.dpi);
        var mb = toPx(state.marginBottom, state.unit, state.dpi);
        var ml = toPx(state.marginLeft, state.unit, state.dpi);
        var startX = ml, endX = canvas.width - mr;
        var startY = mt, endY = canvas.height - mb;
        ctx.strokeStyle = hexToRGBA(state.lineColor, state.lineOpacity);
        ctx.lineWidth = state.lineWidth;
        ctx.setLineDash(getDash(state.lineStyle));
        if (state.mode === 'horizontal' || state.mode === 'grid') {
          var sy = toPx(state.spacingY, state.unit, state.dpi);
          var idxY = 0;
          for (var y = startY; y <= endY; y += sy) {
            var major = (idxY % state.majorEvery === 0) && state.mode === 'grid';
            ctx.lineWidth = major ? state.lineWidth * 1.5 : state.lineWidth;
            ctx.beginPath();
            ctx.moveTo(startX, Math.round(y)+0.5);
            ctx.lineTo(endX, Math.round(y)+0.5);
            ctx.stroke();
            idxY++;
          }
        }
        if (state.mode === 'vertical' || state.mode === 'grid') {
          var sx = toPx(state.spacingX, state.unit, state.dpi);
          var idxX = 0;
          for (var x = startX; x <= endX; x += sx) {
            var majorx = (idxX % state.majorEvery === 0) && state.mode === 'grid';
            ctx.lineWidth = majorx ? state.lineWidth * 1.5 : state.lineWidth;
            ctx.beginPath();
            ctx.moveTo(Math.round(x)+0.5, startY);
            ctx.lineTo(Math.round(x)+0.5, endY);
            ctx.stroke();
            idxX++;
          }
        }
      }

      function applyTemplate(type) {
        var unit = document.getElementById('unitSelect').value;
        if (type === 'lined') {
          document.getElementById('modeSelect').value = 'horizontal';
          document.getElementById('spacingYInput').value = unit==='in'? 0.28 : unit==='px'? Math.round(toPx(7,'mm',state.dpi)) : 7;
          document.getElementById('lineWidthInput').value = 1;
          document.getElementById('lineStyleSelect').value = 'solid';
          document.getElementById('marginTop').value = unit==='in'? 0.6 : unit==='px'? Math.round(toPx(15,'mm',state.dpi)) : 15;
        } else if (type === 'staff') {
          document.getElementById('modeSelect').value = 'horizontal';
          document.getElementById('spacingYInput').value = unit==='in'? 0.2 : unit==='px'? Math.round(toPx(5,'mm',state.dpi)) : 5;
          document.getElementById('lineWidthInput').value = 1;
          document.getElementById('lineStyleSelect').value = 'solid';
          document.getElementById('marginTop').value = unit==='in'? 0.5 : unit==='px'? Math.round(toPx(12,'mm',state.dpi)) : 12;
        } else if (type === 'graph') {
          document.getElementById('modeSelect').value = 'grid';
          document.getElementById('spacingXInput').value = unit==='in'? 0.2 : unit==='px'? Math.round(toPx(5,'mm',state.dpi)) : 5;
          document.getElementById('spacingYInput').value = unit==='in'? 0.2 : unit==='px'? Math.round(toPx(5,'mm',state.dpi)) : 5;
          document.getElementById('majorEveryInput').value = 5;
          document.getElementById('lineWidthInput').value = 1;
          document.getElementById('lineStyleSelect').value = 'solid';
        }
      }

      function triggerDownload(dataUrl, filename) {
        var a = document.createElement('a');
        a.href = dataUrl;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        showDownloadNotice('Downloaded ' + filename + ' successfully');
      }

      function exportSVG() {
        readState();
        var wpx = Math.max(1, Math.round(toPx(state.width, state.unit, state.dpi)));
        var hpx = Math.max(1, Math.round(toPx(state.height, state.unit, state.dpi)));
        var mt = toPx(state.marginTop, state.unit, state.dpi);
        var mr = toPx(state.marginRight, state.unit, state.dpi);
        var mb = toPx(state.marginBottom, state.unit, state.dpi);
        var ml = toPx(state.marginLeft, state.unit, state.dpi);
        var startX = ml, endX = wpx - mr;
        var startY = mt, endY = hpx - mb;
        var dash = getDash(state.lineStyle);
        var dashAttr = dash.length? ' stroke-dasharray="' + dash.join(',') + '"' : '';
        var bg = hexToRGBA(state.bgColor, state.bgOpacity);
        var lc = hexToRGBA(state.lineColor, state.lineOpacity);
        var svg = [];
        svg.push('<svg xmlns="http://www.w3.org/2000/svg" width="'+wpx+'" height="'+hpx+'">');
        svg.push('<rect x="0" y="0" width="'+wpx+'" height="'+hpx+'" fill="'+bg+'"/>');
        if (state.mode === 'horizontal' || state.mode === 'grid') {
          var sy = toPx(state.spacingY, state.unit, state.dpi);
          var idxY = 0;
          for (var y = startY; y <= endY; y += sy) {
            var lw = ((idxY % state.majorEvery === 0) && state.mode==='grid') ? state.lineWidth * 1.5 : state.lineWidth;
            svg.push('<line x1="'+startX+'" y1="'+Math.round(y)+'" x2="'+endX+'" y2="'+Math.round(y)+'" stroke="'+lc+'" stroke-width="'+lw+'"'+dashAttr+'/>');
            idxY++;
          }
        }
        if (state.mode === 'vertical' || state.mode === 'grid') {
          var sx = toPx(state.spacingX, state.unit, state.dpi);
          var idxX = 0;
          for (var x = startX; x <= endX; x += sx) {
            var lwx = ((idxX % state.majorEvery === 0) && state.mode==='grid') ? state.lineWidth * 1.5 : state.lineWidth;
            svg.push('<line x1="'+Math.round(x)+'" y1="'+startY+'" x2="'+Math.round(x)+'" y2="'+endY+'" stroke="'+lc+'" stroke-width="'+lwx+'"'+dashAttr+'/>');
            idxX++;
          }
        }
        svg.push('</svg>');
        var blob = new Blob([svg.join('')], { type: 'image/svg+xml' });
        var url = URL.createObjectURL(blob);
        triggerDownload(url, 'blank-image.svg');
        setTimeout(function(){ URL.revokeObjectURL(url); }, 1000);
      }

      function showDownloadNotice(text) {
        var el = document.getElementById('downloadNotice');
        if (!el) return;
        el.textContent = text;
        el.classList.add('show');
        setTimeout(function(){ el.classList.remove('show'); }, 2000);
      }

      function resetSettings() {
        document.getElementById('paperPreset').value = 'A4';
        document.getElementById('unitSelect').value = 'mm';
        document.getElementById('dpiInput').value = '300';
        document.getElementById('lockAspect').value = 'false';
        document.getElementById('widthInput').value = '210';
        document.getElementById('heightInput').value = '297';
        document.getElementById('bgColor').value = '#ffffff';
        document.getElementById('bgOpacity').value = '1';
        document.getElementById('lineColor').value = '#4b5563';
        document.getElementById('lineOpacity').value = '1';
        document.getElementById('modeSelect').value = 'grid';
        document.getElementById('lineWidthInput').value = '1';
        document.getElementById('lineStyleSelect').value = 'solid';
        document.getElementById('majorEveryInput').value = '5';
        document.getElementById('spacingXInput').value = '5';
        document.getElementById('spacingYInput').value = '5';
        document.getElementById('marginTop').value = '10';
        document.getElementById('marginRight').value = '10';
        document.getElementById('marginBottom').value = '10';
        document.getElementById('marginLeft').value = '10';
      }

      document.getElementById('paperPreset').addEventListener('change', function(){ if (this.value !== 'Custom') syncPreset(); render(); });
      document.getElementById('unitSelect').addEventListener('change', function(){ syncPreset(); render(); });
      document.getElementById('dpiInput').addEventListener('input', render);
      document.getElementById('lockAspect').addEventListener('change', function(){ state.lockAspect = this.value==='true'; });
      document.getElementById('widthInput').addEventListener('input', function(){ if (state.lockAspect) { var ratio = state.height/state.width; document.getElementById('heightInput').value = String(Math.round(parseFloat(this.value||0)*ratio*1000)/1000); } render(); });
      document.getElementById('heightInput').addEventListener('input', function(){ if (state.lockAspect) { var ratio = state.width/state.height; document.getElementById('widthInput').value = String(Math.round(parseFloat(this.value||0)*ratio*1000)/1000); } render(); });

      ['bgColor','bgOpacity','lineColor','lineOpacity','modeSelect','lineWidthInput','lineStyleSelect','majorEveryInput','spacingXInput','spacingYInput','marginTop','marginRight','marginBottom','marginLeft'].forEach(function(id){ var el = document.getElementById(id); if (el) el.addEventListener('input', render); });

      document.getElementById('applyTemplateBtn').addEventListener('click', function(){ var t = document.getElementById('templateSelect').value; applyTemplate(t); render(); });
      document.getElementById('generateBtn').addEventListener('click', function(){ render(); showDownloadNotice('Generated preview successfully'); });
      document.getElementById('resetBtn').addEventListener('click', function(){ resetSettings(); render(); });

      document.getElementById('downloadPngBtn').addEventListener('click', function(){ render(); triggerDownload(canvas.toDataURL('image/png'), 'blank-image.png'); });
      document.getElementById('downloadJpgBtn').addEventListener('click', function(){ render(); triggerDownload(canvas.toDataURL('image/jpeg', 0.92), 'blank-image.jpg'); });
      document.getElementById('downloadSvgBtn').addEventListener('click', function(){ exportSVG(); });

      syncPreset();
      render();
    });
  </script>
</body>
</html>
